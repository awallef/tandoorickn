package com.tandoorickn.ui.css{	import com.tandoorickn.ui.css.core.CoreCssSprite;		import flash.display.DisplayObject;	import flash.display.Sprite;
		public class CssLayout extends Sprite	{		private var _layers					:Array,					_names					:Object;							public function CssLayout()		{			super();			_layers 				= [];			_names					= {};		}				public function getLayer(index:uint):CoreCssSprite				{ 			var css:CoreCssSprite;			if(_layers[index])			{				var sp:Sprite = _layers[index];				css = sp.getChildAt(0) as CoreCssSprite; 			}else css = new CoreCssSprite;						return css; 		}				public function refresh():void		{			for( var i:* in _layers) 				(_layers[i] as CoreCssSprite ).refresh();		}				public function setSize(w:Number,h:Number):void		{			for( var i:* in _layers) 				(_layers[i] as CoreCssSprite ).setSize(w,h); 			}				public function addCssSpriteAt(cssObject:CssSprite,index:uint):void		{			this.addCssObjectAt(cssObject,cssObject.id,index);		}				public function addCssObjectAt(cssObject:CoreCssSprite,name:String,index:uint):void		{			_names[name] = index;						if(_layers[index] == null) 			{				_layers[index]  = new CoreCssSprite();				this.addChild(_layers[index]);				orderLayers();			}						( _layers[index] as CoreCssSprite ).addCssObject(cssObject,name);					}				public function removeCssObject(name:String):void		{			if(_names[name] == undefined ) return;						var index:uint = _names[name];						var sp:Sprite = _layers[index];						var css:CoreCssSprite = sp.getChildAt(0) as CoreCssSprite;			if(css.item[name] != undefined) 			{				css.removeCssObject(name);							}else{				_layers[index].removeChild(css);				_layers[index] = null;			}						_names[name] = null;		}				private function orderLayers():void		{			var i:*;			for( i in _layers) this.removeChild( _layers[i] );			for( i in _layers) this.addChild(_layers[i]);		}	}}